(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(14),a=n.n(r),i=n(4),o=n(9),u=n(23),l=n(22),j="SAVE_USER",b="SET_USER_LOGGED_IN",m="SET_USER_LOGGED_OUT",p="SET_USER_POINTS",O="RESET_USER_POINTS",d="SET_GAME_CONFIG",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===j?t.payload:e},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return!0;case m:return!1;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return e+t.payload;case O:return t.payload;default:return e}},x={gamePoints:1500,songTimer:15,songNumber:3,numberOfAnswers:4},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return t.type===d?t.payload:e},v=Object(o.combineReducers)({isUserLoggedIn:h,currentUser:f,userPoints:g,gameConfig:_}),y=Object(o.createStore)(v,Object(l.composeWithDevTools)(Object(o.applyMiddleware)(u.a))),N=n(6),S=n(2),w=n(16),T=n(7),E=n.n(T),A=n(8),P=n(3),k=n(1),C=function(e){var t=e.type,n=e.className,c=e.innerText,s=e.onClickFunc;return Object(k.jsx)("button",{type:t,className:"btn ".concat(n,"__btn"),onClick:s,children:c})},I=n(15),G=n(11),U=function(e){var t=e.placeholder,n=e.className,c=e.formState,s=e.inputName,r=e.inputType,a=Object(P.a)(c,2),i=a[0],o=a[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("label",{id:s,className:"".concat(n,"__label hidden"),children:s}),Object(k.jsx)("input",{type:r,"aria-labelledby":s,placeholder:t,className:"".concat(n,"__input"),value:i[s],onChange:function(e){o((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(I.a)({},s,e.target.value))}))},required:!0})]})},L=function(e){return{type:j,payload:e}},W=function(){return{type:b}},Y={username:"",password:""},F=function(e){var t=Object(P.a)(e,2),n=t[0],c=t[1];return function(){var e=Object(A.a)(E.a.mark((function e(t){var s,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=3,fetch("/api/users",s);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,t(L(a)),t(W()),c(Y),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(){var e=Object(c.useState)(Y),t=Object(P.a)(e,2),n=[t[0],t[1]],s="login-form",r=Object(i.b)(),a=function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r(F(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("form",{className:s,onSubmit:a,children:[Object(k.jsx)(U,{formState:n,inputType:"text",inputName:"username",placeholder:"Type your username",className:s}),Object(k.jsx)(C,{className:"login-form",type:"submit",innerText:"CREATE A GAME"})]})},M=function(e){var t=e.title;return Object(k.jsx)("h1",{children:t})},z=function(){var e=Object(i.c)((function(e){return e})).isUserLoggedIn,t=Object(S.f)();return Object(c.useEffect)((function(){e&&t("/userhub")}),[e]),Object(k.jsxs)("section",{className:"login-wrapper",children:[Object(k.jsx)(M,{title:"HELLO YOU"}),Object(k.jsx)("p",{className:"login-wrapper__description",children:"Enter your username to create a music quiz"}),Object(k.jsx)(R,{})]})},q=n.p+"static/media/All_I_Want_For_Christmas_Is_You.893ac235.mp3",D=n.p+"static/media/Break_On_Through.a69b132c.mp3",H=n.p+"static/media/Cant_Get_You_Out_Of_My_Head.82ae7400.mp3",B=n.p+"static/media/Diamonds_Are_A_Girls_Best_Friend.01b56c51.mp3",J=n.p+"static/media/Feeling_Good.b02bfe0d.mp3",V=[J,q,D,H,B,J,n.p+"static/media/September.0010a8f7.mp3",n.p+"static/media/Get_Lucky.4da7401d.mp3",n.p+"static/media/Hey_Joe.98301351.mp3",n.p+"static/media/I_Want_To_Hold_Your_Hand.4ca7cc8b.mp3",n.p+"static/media/I_Wanna_Dance_with_Somebody.4a0b47e7.mp3",n.p+"static/media/In_The_End.ce8ffb17.mp3",n.p+"static/media/Its_Raining_Men.e57afa3c.mp3",n.p+"static/media/Sandstorm.ac0e80c6.mp3",n.p+"static/media/U_Cant_Touch_This.696254c5.mp3",n.p+"static/media/Summertime.9f6f42b4.mp3",n.p+"static/media/Vibes_and_Stuff.1f10f2e1.mp3",n.p+"static/media/The_End.7e52587f.mp3",n.p+"static/media/Survivor.67e4b78d.mp3",n.p+"static/media/Wake_Me_Up_Before_You_Go_Go.e3b593cb.mp3",n.p+"static/media/Who_Let_The_Dogs_Out.f70cdc7a.mp3",n.p+"static/media/Wish_You_Were_Here.c36db672.mp3",n.p+"static/media/Work_Bitch.e349f3b4.mp3"],Q=n(24),X=n.n(Q),Z=function(e){var t,n=e.playingSong,c=e.songs,s=e.setIsPlaying;return Object(k.jsx)(X.a,{src:(t=n,c.find((function(e){return e.includes(t)}))),autoPlay:!0,onCanPlay:function(e){return e.target.play()},onPlay:function(){return s(!0)},controls:!0})},K=n(19),$=function(e){var t=e.type,n=e.className,c=e.song,s=e.onClickFunc;return Object(k.jsx)("button",{type:t,className:"btn ".concat(n,"__btn-game"),onClick:s,value:c,children:c.replaceAll("_"," ")})},ee=function(e){var t=e.time,n=e.timerAction,s=e.setSongPoints,r=e.isPlaying,a=Object(c.useState)(t),i=Object(P.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){if("undefined"===typeof r){var e=setInterval((function(){u((function(e){return e-1})),s&&s((function(e){return e-100}))}),1e3),t=setTimeout((function(){n(!1)}),1e3*o);return function(){clearInterval(e),clearTimeout(t)}}return!1}),[]),Object(c.useEffect)((function(){if(r){var e=setInterval((function(){u((function(e){return e-1})),s&&s((function(e){return e-100}))}),1e3),t=setTimeout((function(){n(!1)}),1e3*o);return function(){clearInterval(e),clearTimeout(t)}}return!1}),[r]),Object(k.jsx)("h1",{className:"song-timer",children:o})},te=function(e){var t=e.currentSong,n=e.songsList,s=e.setAnswered,r=e.setCorrectAnswer,a=e.setSongPoints,o=e.songPoints,u=e.setNumberOfSongs,l=e.isPlaying,j=Object(c.useState)(),b=Object(P.a)(j,2),m=b[0],O=b[1],d=Object(i.c)((function(e){return e})).gameConfig,f=Object(i.b)(),h=function(e){return Object(K.a)(e).sort((function(){return Math.random()-.5}))};Object(c.useEffect)((function(){Object(A.a)(E.a.mark((function e(){var c,s,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n);case 2:return c=e.sent,e.next=5,c.filter((function(e){return e!==t}));case 5:s=e.sent,r=s.slice(0,d.numberOfAnswers-1),O(h([t].concat(Object(K.a)(r)))),a(d.gamePoints);case 9:case"end":return e.stop()}}),e)})))()}),[t]);var g=function(e){return u((function(e){return e-1})),e&&e.target.value===t?(r(!0),f({type:p,payload:o}),s(!0)):(r(!1),s(!0))},x=function(e){return e?(e.preventDefault(),g(e)):g()};return Object(k.jsxs)("article",{className:"quiz__choices",children:[Object(k.jsx)(ee,{time:d.songTimer,timerAction:x,setSongPoints:a,isPlaying:l}),m&&m.map((function(e,t){return Object(k.jsx)($,{song:e,className:"quiz",onClickFunc:x},t)}))]})},ne=function(){var e=Object(i.c)((function(e){return e})).userPoints;return Object(k.jsxs)("article",{className:"game-result",children:[Object(k.jsxs)("h2",{children:["Your total score is ",e]}),Object(k.jsx)(N.b,{className:"link",to:"/",children:Object(k.jsx)(C,{className:"game-result__exit",type:"submit",innerText:"EXIT QUIZ"})})]})},ce=function(e){var t=e.correctAnswer,n=e.setNextSong,s=e.songPoints,r=e.gameOver,a=e.setGameOver,i=e.numberOfSongs;return Object(c.useEffect)((function(){return 0!==i||a(!0)}),[i]),Object(k.jsxs)("article",{className:"song-result",children:[t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{className:"song-result__text emojis",children:"\ud83d\udc4f\ud83c\udffb\ud83d\udc4f\ud83c\udffb\ud83d\udc4f\ud83c\udffb"}),Object(k.jsx)("p",{className:"song-result__text",children:"Good job!"}),Object(k.jsx)("p",{className:"song-result__text",children:"Your answer was correct"}),Object(k.jsxs)("p",{className:"song-result__title",children:["Your result is ",s," points"]})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{className:"song-result__text emojis",children:"\ud83d\udca9"}),Object(k.jsx)("p",{className:"song-result__text",children:"Sorry!"}),Object(k.jsx)("p",{className:"song-result__text",children:"That was incorrect"})]}),r?Object(k.jsx)(ne,{}):Object(k.jsx)(C,{className:"login-form",type:"submit",innerText:"NEXT SONG",onClickFunc:n})]})},se=function(){var e=Object(A.a)(E.a.mark((function e(t){var n,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=3,fetch("/api/songs",n);case 3:return c=e.sent,e.next=6,c.json();case 6:return s=e.sent,t(s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.c)((function(e){return e})).gameConfig,t=Object(c.useState)([]),n=Object(P.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(),o=Object(P.a)(a,2),u=o[0],l=o[1],j=Object(c.useState)(0),b=Object(P.a)(j,2),m=b[0],p=b[1],d=Object(c.useState)(!1),f=Object(P.a)(d,2),h=f[0],g=f[1],x=Object(c.useState)(!1),_=Object(P.a)(x,2),v=_[0],y=_[1],N=Object(c.useState)(!0),S=Object(P.a)(N,2),w=S[0],T=S[1],E=Object(c.useState)(e.gamePoints),A=Object(P.a)(E,2),C=A[0],I=A[1],G=Object(c.useState)(e.songNumber),U=Object(P.a)(G,2),L=U[0],W=U[1],Y=Object(c.useState)(!1),F=Object(P.a)(Y,2),R=F[0],M=F[1],z=Object(c.useState)(!1),q=Object(P.a)(z,2),D=q[0],H=q[1],B=Object(i.b)();Object(c.useEffect)((function(){H(!1),W(e.songNumber),console.log("Quiz usereffect"),B({type:O,payload:0}),se(r)}),[]),Object(c.useEffect)((function(){l(s[m])}),[s,m]);return Object(k.jsxs)("section",{className:"quiz",children:[w&&Object(k.jsx)(ee,{time:3,timerAction:T}),u&&!h&&!w&&!R&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Z,{playingSong:u,songs:V,setIsPlaying:H}),Object(k.jsx)(te,{currentSong:u,songsList:s,setAnswered:g,setCorrectAnswer:y,setSongPoints:I,songPoints:C,numberOfSongs:L,setNumberOfSongs:W,isPlaying:D})]}),h&&!w&&Object(k.jsx)(ce,{setGameOver:M,gameOver:R,correctAnswer:v,setNextSong:function(){g(!1),T(!0),p((function(e){return e+1}))},songPoints:C,numberOfSongs:L})]})},ae=function(){var e=Object(i.c)((function(e){return e})).currentUser.username||"YOU";return Object(k.jsxs)("section",{className:"welcome-wrapper",children:[Object(k.jsx)(M,{title:"WELCOME ".concat(e.toUpperCase())}),Object(k.jsx)(N.b,{className:"link",to:"/instructions",children:Object(k.jsx)(C,{className:"how-to-play",innerText:"HOW TO PLAY"})}),Object(k.jsx)(N.b,{className:"link",to:"/quiz",children:Object(k.jsx)(C,{className:"start-game",innerText:"START"})})]})},ie=function(){var e=Object(i.c)((function(e){return e})).gameConfig;return Object(k.jsxs)("section",{className:"instruction-wrapper",children:[Object(k.jsx)("h2",{className:"instruction-wrapper__title",children:"HOW TO PLAY?"}),Object(k.jsx)("p",{className:"instruction-description--title",children:"Welcome to our music quiz!"}),Object(k.jsx)("p",{className:"instruction-description",children:"Music Quiz\u2019 is a fun single-player game where you can test you music knowledge!"}),Object(k.jsx)("p",{className:"instruction-description",children:'Start the game by pressing the "Start" button.'}),Object(k.jsx)("p",{className:"instruction-description",children:"A 3 second countdown will then start. After the countdown, the actual gameplay begins, so be ready! You got 15 seconds to make your guess, with multiple choices. There is ONLY one correct answer."}),Object(k.jsx)("p",{className:"instruction-description",children:"The point system is time based. The faster you get the correct answer, the more points you will recieve. Be aware, wrong answers will award NO points."}),Object(k.jsxs)("p",{className:"instruction-description",children:["Each game consists of ",e.songNumber," rounds. After each game your total score will be displayed and saved to the leaderboard."]}),Object(k.jsx)("p",{className:"instruction-description--last",children:"Good luck and have fun!"}),Object(k.jsx)(N.b,{className:"link",to:"/quiz",children:Object(k.jsx)(C,{className:"start-game",innerText:"START"})})]})},oe=function(){var e=Object(i.c)((function(e){return e})).isUserLoggedIn,t=Object(i.b)(),n=Object(S.f)(),c=new w.a;return Object(k.jsxs)("nav",{className:"nav",children:[Object(k.jsx)(N.b,{className:"link",to:"/",children:Object(k.jsx)("p",{className:"nav__logo",children:"MUSICVAVORS"})}),e&&Object(k.jsx)("button",{className:"nav-logout__btn",onClick:function(){t({type:m}),n("/"),c.remove("user")},children:"LOGOUT"})]})},ue=function(){var e=Object(i.b)();return Object(c.useEffect)((function(){try{var t=window.location.origin.replace(/^http/,"ws"),n=new WebSocket(t),c=new w.a;n.addEventListener("message",(function(e){console.log("e.data",e.data)})),n.addEventListener("open",(function(){console.log("Frontend is open for papi")}));var s=c.get("user");s&&(e(L(s)),e(W()))}catch(r){console.log(r)}}),[]),Object(k.jsx)(N.a,{children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(oe,{}),Object(k.jsxs)(S.c,{children:[Object(k.jsx)(S.a,{path:"/",element:Object(k.jsx)(z,{})}),Object(k.jsx)(S.a,{path:"/userhub",element:Object(k.jsx)(ae,{})}),Object(k.jsx)(S.a,{path:"/quiz",element:Object(k.jsx)(re,{})}),Object(k.jsx)(S.a,{path:"/instructions",element:Object(k.jsx)(ie,{})}),Object(k.jsx)(S.a,{path:"/results",element:Object(k.jsx)(ne,{})})]})]})})};n(36);a.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(i.a,{store:y,children:Object(k.jsx)(ue,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.3303b07d.chunk.js.map